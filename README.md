# Lab3_Py
 
1. Задан простой класс Fraction для представления дробей:
class Fraction(object):
 def __init__(self, num, den):
  self.__num = num
  self.__den = den
  self.reduce()
def __str__(self):
return "%d/%d" % (self.__num, self.__den)
def reduce(self):
g = Fraction.gcd(self.__num, self.__den)
self.__num /= g
self.__den /= g
@staticmethod
def gcd(n, m):
if m == 0:
return n
else:
return Fraction.gcd(m, n % m)
Дополнить класс таким образом, чтобы выполнялся следующий код:
frac = Fraction(7, 2)
print(-frac) # выводит -7/2
print(~frac) # выводит 2/7
print(frac**2) # выводит 49/4
print(float(frac)) # выводит 3.5
print(int(frac)) # выводит 3
17
2. Напишите классы «Книга» (с обязательными полями: название, автор,
код), «Библиотека» (с обязательными полями: адрес, номер) и
корректно свяжите их. Код книги должен назначаться автоматически
при добавлении книги в библиотеку (используйте для этого
статический член класса). Если в конструкторе книги указывается в
параметре пустое название, необходимо сгенерировать исключение
(например, ValueError). Книга должна реализовывать интерфейс
Taggable с методом tag(), который создает на основе строки набор тегов
(разбивает строку на слова и возвращает только те, которые
начинаются с большой буквы). Например, tag() для книги с названием
‘War and Peace’ вернет список тегов [‘War’, ‘Peace’]. Реализуйте классы
таким образом, чтобы корректно выполнялся следующий код:
lib = Library(1, ’51 Some str., NY’)
lib += Book(‘Leo Tolstoi’, ‘War and Peace’)
lib += Book(‘Charles Dickens’, ‘David Copperfield’)
for book in lib:
# вывод в виде: [1] L.Tolstoi ‘War and Peace’
print(book)
# вывод в виде: [‘War’, ‘Peace’]
print(book.tag())
3. Создайте графическую оболочку для скрипта, написанного в ходе
выполнения задания № 4 лабораторной работы № 2, в виде диалогового
окна (рис. 2). Рекомендуется использовать wxPython или PyQt.
всю область окна должен занимать список с результатами поиска
строк по шаблону в файле и указанием даты и времени поиска.
Поиск производится автоматически при каждом открытии какоголибо файла, при этом список не очищается, а пополняется новыми
результатами. При запуске скрипта список изначально должен быть
пустым (из файла лога данные подгружать не нужно);
- строка меню содержит пункты «Файл» (с подпунктом «Открыть...»
для открытия файла, в котором необходимо искать строки) и «Лог»
(с подпунктами «Экспорт...», «Добавить в лог», «Просмотр»). Файл
лога находится в рабочей папке скрипта и называется script18.log.
Если файл отсутствует, скрипт при запуске должен выдать
диалоговое окно с информацией «Файл лога не найден. Файл будет
создан автоматически» и кнопкой «ОК». При выборе пункта меню
«Экспорт...» содержимое списка должно сохраниться в файле,
который укажет пользователь. При выборе пункта «Добавить в лог»
содержимое списка приписывается в конец файла script18.log. При
выборе пункта «Просмотр» текущее содержимое списка удаляется,
и список заполняется данными из лога. Перед этим действием скрипт
должен выдать диалоговое окно с вопросом «Вы действительно
хотите открыть лог? Данные последних поисков будут потеряны!»
и кнопками «Да» и «Нет»;
- статусная строка должна состоять из двух полей: в первом поле (60%
ширины окна), в зависимости от последнего произведенного
действия, выводится либо текст «Открыт лог», либо текст
«Обработан файл <полное_имя_файла>»; второе поле (40%
ширины окна) служит для отображения размера последнего
обработанного файла в байтах. Эта строка форматируется: выводятся
пробелы между степенями тысячи (например, «2 036 231 байт»);
- файлы нужно открывать и сохранять с помощью стандартного
диалогового окна (рис. 3)
. Напишите простой класс StringFormatter для форматирования строк со
следующим функционалом:
– удаление всех слов из строки, длина которых меньше n букв;
– замена всех цифр в строке на знак «*»;
– вставка по одному пробелу между всеми символами в строке;
– сортировка слов по размеру;
– сортировка слов в лексикографическом порядке.
Примечание. Разделители слов можно задавать отдельно. По
умолчанию в качестве разделителя принимается только символ
пробела.
5. Напишите скрипт с графическим интерфейсом пользователя для
демонстрации работы класса StringFormatter. Примеры окон приведены
на рис. 4 (все элементы управления необходимо обязательно
реализовать те же, что присутствуют на рисунке). Разные комбинации
отмеченных чекбоксов приводят к разным цепочкам операций
форматирования задаваемой в верхнем поле строки с разными
результатами:
